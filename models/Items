// models/Item.js
const mongoose = require('mongoose');

// Define the schema
const ItemSchema = new mongoose.Schema({
    name: { type: String, required: true },
    email: { type: String, required: true },
    
});
// const userSchema = new mongoose.Schema({
//     email: {
//       type: String,
//       required: true,
//       unique: true,
//     },
//     password: {
//       type: String,
//       required: true,
//     },
//   });


  const PackageSchema = new mongoose.Schema({
    packageName: { type: String, required: false },
    description: { type: String, required: false },
    duration: { type: String, required: false},
    rating:{type:Number,required:false},
    price: { type: Number, required: false,min:1 ,max :5},
    activities: { type: [String], required:false },
    inclusions: { type: String, required:false },
    image: { type: String }, // Store image URL
  }, { timestamps: true });

  const RegisterSchema = new mongoose.Schema(
    {
      fullName: { type: String, required: true },
      userName: { type: String, required: true, unique: true },
      phone: { type: String, required: true, unique: true },
      email: { type: String, required: true, unique: true },
      password: { type: String, required: true },
      role: { 
        type: String, 
        required: true, 
        enum: ["Student", "Student Leader", "HOD", "Industry Representative"] 
      }, 
      studentID: { type: String, unique: true, sparse: true }, // Unique but ignored if null
      industryID: { type: String, unique: true, sparse: true }, // Unique but ignored if null
    },
    { timestamps: true }
  );
    

  const RequestSchema = new mongoose.Schema({
    studentName: { type: String, required: true },
    department: { type: String, required: true },
    studentRep: { type: String, required: true }, // Student Representative
    submissionDate: { type: String, required: true },
    industry: { type: String, required: true },
    date: { type: String, required: true },
    studentsCount: { type: Number, required: true },
    faculty: { type: String, required: true },
    transport: { type: String, required: true },
    packageDetails: { type: String, required: true },
    activity: { type: String, required: true },
    duration: { type: String, required: true },
    distance: { type: String, required: true },
    ticketCost: { type: Number, required: true },
  });
  
  const StudentSchema = new mongoose.Schema({
    studentID: { type: String, required: true, unique: true },
    fullName: { type: String, required: true },
    department: { type: String, required: true },
    studentRep: { type: String, required: true }, // Student Representative
  });

  
  module.exports = {
    Item: mongoose.model('Item', ItemSchema), // Export the Item model
    Package: mongoose.model('Package', PackageSchema), 
    Register: mongoose.model('Register', RegisterSchema),
    RequistModel: mongoose.model('Requist', RequestSchema),
    StudentModel: mongoose.model('StudentModel', StudentSchema),
  };